---
import { profile } from "../data/profile";
---

<section class="hero">
  <!-- 左カラム: 名前・所属・リンク -->
  <aside class="sidebar">
    <div class="profile">
      <h1 class="name">{profile.name}</h1>
      <p class="affil-role">{profile.role}</p>
      <p class="affil-org">{profile.org}</p>
    </div>

    <ul class="links">
      {
        profile.links.map((link) => (
          <li>
            <a
              href={link.href}
              target="_blank"
              rel="noopener"
              class="link-item"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="15"
                height="15"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path d={link.iconPath} />
              </svg>
              {link.label}
            </a>
          </li>
        ))
      }
    </ul>
  </aside>

  <!-- 右カラム: 説明・経歴 -->
  <div class="content">
    <div class="section">
      <h2 class="sec-title">About</h2>
      <p class="bio">{profile.bio}</p>
    </div>

    <div class="section">
      <h2 class="sec-title">Education</h2>
      <ul class="sec-list">
        {
          profile.education.map((entry) => (
            <li>
              <span class="period">{entry.period}</span>
              <div class="entry">
                <span class="entry-title">
                  {entry.url ? (
                    <a href={entry.url} target="_blank" rel="noopener">
                      {entry.title}
                    </a>
                  ) : (
                    entry.title
                  )}
                </span>
                <span class="entry-sub">{entry.sub}</span>
              </div>
            </li>
          ))
        }
      </ul>
    </div>

    <div class="section">
      <h2 class="sec-title">Experience</h2>
      <ul class="sec-list">
        {
          profile.experience.map((entry) => (
            <li>
              <span class="period">{entry.period}</span>
              <div class="entry">
                <span class="entry-title">
                  {entry.url ? (
                    <a href={entry.url} target="_blank" rel="noopener">
                      {entry.title}
                    </a>
                  ) : (
                    entry.title
                  )}
                </span>
                <span class="entry-sub">{entry.sub}</span>
              </div>
            </li>
          ))
        }
      </ul>
    </div>

    <div class="section">
      <h2 class="sec-title">Publications</h2>
      <ul class="sec-list">
        {
          profile.publications.length === 0 ? (
            <li>
              <div class="entry">
                <span class="entry-title coming-soon">Coming Soon</span>
              </div>
            </li>
          ) : (
            profile.publications.map((pub) => (
              <li>
                <div class="entry">
                  <span class="entry-title">
                    {pub.url ? (
                      <a href={pub.url} target="_blank" rel="noopener">
                        {pub.title}
                      </a>
                    ) : (
                      pub.title
                    )}
                  </span>
                  <span class="entry-sub">
                    {pub.venue}, {pub.year}
                  </span>
                </div>
              </li>
            ))
          )
        }
      </ul>
    </div>
  </div>
</section>

<style>
  .hero {
    max-width: var(--max-w);
    margin: 0 auto;
    padding: 5rem 0rem 4rem;
    display: grid;
    grid-template-columns: 250px 1fr;
    gap: 4rem;
    align-items: start;
  }

  /* ── 左カラム ── */
  .sidebar {
    position: sticky;
    top: 5rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }
  .profile {
    display: flex;
    flex-direction: column;
    gap: 0.3rem;
  }
  .name {
    font-size: 1.5rem;
    font-weight: 600;
    line-height: 1.3;
  }
  .affil-role {
    font-size: 0.85rem;
    color: var(--muted);
  }
  .affil-org {
    font-size: 0.85rem;
    color: var(--muted);
  }
  .links {
    list-style: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  .link-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    color: var(--muted);
    transition: color 0.2s;
  }
  .link-item:hover {
    color: var(--accent);
  }
  .link-item svg {
    flex-shrink: 0;
    opacity: 0.7;
  }

  /* ── 右カラム ── */
  .content {
    display: flex;
    flex-direction: column;
    gap: 2.5rem;
  }
  .bio {
    font-size: 0.95rem;
    color: var(--text);
    line-height: 1.8;
  }
  .section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  .sec-title {
    font-size: 1rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--accent);
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border);
  }
  .sec-list {
    list-style: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  .sec-list li {
    display: flex;
    gap: 1.25rem;
    align-items: flex-start;
  }
  .period {
    font-size: 0.8rem;
    color: var(--muted);
    white-space: nowrap;
    min-width: 10rem;
    padding-top: 0.1rem;
  }
  .entry {
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
  }
  .entry-title {
    font-size: 0.9rem;
    color: var(--text);
  }
  .entry-title a {
    color: var(--text);
    transition: color 0.2s;
  }
  .entry-title a:hover {
    color: var(--accent);
  }
  .entry-sub {
    font-size: 0.82rem;
    color: var(--muted);
  }
  .coming-soon {
    color: var(--muted);
    font-weight: 400;
    font-style: italic;
  }

  /* ── レスポンシブ ── */
  @media (max-width: 700px) {
    .hero {
      grid-template-columns: 1fr;
      gap: 2.5rem;
      padding: 3rem 1.25rem 2.5rem;
    }
    .sidebar {
      position: static;
    }
    .name {
      font-size: 1.75rem;
    }
    .period {
      min-width: 8rem;
    }
  }
</style>
